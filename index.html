<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>Switch WebM / PNG</title>
  <style>
    /* Fond couleur site */
    html, body, #wrap {
      margin: 0;
      padding: 0;
      background: #F7F7F7; /* couleur de fond */
    }
    img, video {
      display: block;
      width: 100%;
      height: auto;
      background: #F7F7F7;
    }
  </style>
</head>
<body>
  <div id="wrap">
    <!-- PNG caché par défaut -->
    <img id="png"
         src="https://raw.githubusercontent.com/eliasbourhan/video_homepage/main/Frank0000-min.png"
         alt=""
         style="display:none" />

    <!-- WebM caché par défaut -->
    <video id="webm" playsinline autoplay muted loop preload="auto" style="display:none">
      <source src="https://raw.githubusercontent.com/eliasbourhan/video_homepage/main/Frank0168-min.webm"
              type='video/webm; codecs="vp9,opus"' />
    </video>
  </div>

  <script>
    (function () {
      var ua = navigator.userAgent;

      // Safari desktop (Mac) : contient Safari mais PAS Chrome/Edg/OPR/Brave/Firefox
      var isMacSafari = /Macintosh/.test(ua) && /Safari\//.test(ua) &&
                        !/(Chrome|Chromium|CriOS|Edg|OPR|Brave|Firefox)/i.test(ua);

      // iOS (tous navigateurs = WebKit)
      var isIOSWebKit = /(iPhone|iPad|iPod)/i.test(ua);

      var png  = document.getElementById('png');
      var webm = document.getElementById('webm');

      if (isIOSWebKit || isMacSafari) {
        if (png) png.style.display = 'block';
      } else {
        if (webm) {
          webm.style.display = 'block';
          webm.play().catch(function(){});
        }
      }
    })();
  </script>
</body>
</html>
